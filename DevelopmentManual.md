

## Step-1 

我将以下内容发送给大模型。

```txt
我现在需要实现两个程序，一个客户端程序，使用C++语言实现，另外一个服务端程序，使用python语言实现。客户端程序和服务端程序的功能要求如下：

对于客户端程序，其功能为：
调用主机电脑上的麦克风进行实时的语音录制采集，并通过TCP协议进行实时的网络数据传输，将语音流数据发送给服务端程序。例如每录制200ms的语音数据，将数据发送给服务端程序一次，每次发送的数据量是可以通过变量参数来进行配置的。
客户端程序实现的细节和要求如下：
1. 使用 portaudio 库进行语音的实时采集。
2. 以 16k16bit，单通道的格式进行语音录制。
3. 使用 asio 进行TCP协议的数据传输。
4. 按 Ctrl + C 退出程序，在退出程序前，能够将采集到的剩余数据发送给服务端程序。


对于服务端程序，功能为：
使用 TCP 接受数据，将接受到的数据按顺序缓存到某个数据结果中，最终将数据以16k16bit，单通道的wav格式保存到文件中。
服务端程序实现的细节和要求如下：
1. 使用python标准库的模块进行TCP网络接受数据的功能实现。
2. 当检测到客户端的TCP连接断开后，将缓存的语音数据写入文件，以16k16bit，单通道的wav格式保存到文件中。
```

使用 qwen3-coder 进行编码，给出的代码没有进行任何二次修改，直接一遍就编译运行通过。

注：cmake工程是我自己设置的。


## Step-2 模拟流式识别

请帮我实现一个模拟语音实时识别的python程序。具体的要求如下：
1. 读取一个 wav 格式的语音文件，这部分操作使用python的标准库来实现，不要引入第三方库。
2. 对于读取的语音文件，一个 chunk 一个 chunk 的送到模型中进行识别，这里的 chunk 大小默认设置为 100 ms，可以通过参数进行设置调整。你可以通过发送 100ms 数据给模型进行识别，然后暂停100ms，继续发送下一个100ms的数据来模拟实时说话的功能。但是这里需要注意，模拟实时发送和模型识别要求并行执行，即通过暂停100ms的时间来模拟实时说话功能时，模型应该正常工作进行语音识别。
3. 模型将实时识别的结果进行输出，若识别有结果则打印在控制台。
4. 关于模型识别的功能和代码，可以构造假的代码来实现，这部分我会自己进行替换真正可运行的模型识别代码，但以上所述的功能均需要可以直接运行的代码。

请帮我实现。


## Step-3 实时语音识别
我现在需要实现两个程序，一个客户端程序，使用C++语言实现，另外一个服务端程序，使用python语言实现。客户端程序和服务端程序的功能要求如下：

对于客户端程序，其功能为：
调用主机电脑上的麦克风进行实时的语音录制采集，并通过TCP协议进行实时的网络数据传输，将语音流数据发送给服务端程序，然后服务端程序会进行实时的语音识别并将实时的识别结果发送回客户端程序。例如每录制200ms的语音数据，将数据发送给服务端程序一次，每次发送的数据量是可以通过变量参数来进行配置的。实时的接收服务端程序发送过来的数据。
客户端程序实现的细节和要求如下：
1. 使用 portaudio 库进行语音的实时采集。
2. 以 16k16bit，单通道的格式进行语音录制。
3. 使用 asio 进行TCP协议的数据传输。
4. 按 Ctrl + C 退出程序，在退出程序前，能够将采集到的剩余数据发送给服务端程序。
5. 客户端将接收到的服务端的数据写成 string 的形式，实时的打印在客户端程序的控制台上进行输出显示。

对于服务端程序，功能为：
使用 TCP 接受数据，将实时接收的数据送入模型进行实时语音识别，然后将识别的结果实时的发送给客户端程序。
服务端程序实现的细节和要求如下：
1. 使用python标准库的模块进行TCP网络接受数据的功能实现。
2. 模型进行实时语音识别的细节代码不用给出，只需给出接口就行，细节实现我会自己实现。
